{% load hq_shared_tags %}
{% load i18n %}

<div id="ko-getting-started" data-bind="with: $root.gettingStartedViewModel">
  <h3>{% trans "Linked Projects" %}</h3>
  <p>
    {% blocktrans %}
      Get started by creating a link between two projects, allowing you to push and pull content.<br/>
      If you want to pull content from another project into this project, make it a downstream project.<br/>
      <a href="https://confluence.dimagi.com/display/commcarepublic/Linked+Project+Spaces" target="_blank">Learn more</a> about linked projects.
    {% endblocktrans %}
  </p>
  <div class="spacer"></div>
  <div class="row">
    <div class="col-sm-6">
      <h4>Add as Downstream Project</h4>
      <p>
        {% blocktrans %}
          If you want to pull content from an upstream project, link this project to an upstream project.<br/>
        {% endblocktrans %}
      </p>
      <div data-bind="if: upstreamDomains().length == 0">
        <p>There are not any upstream domains available.</p>
      </div>
      <div data-bind="if: upstreamDomains().length == 1">
        <button type="button"
            class="btn btn-primary"
            id="go-to-upstream-project"
            data-bind="click: goToUpstream">
        {% trans "Go to upstream project" %}
      </button>
      </div>
      <div data-bind="if: upstreamDomains().length > 1">
        <ul data-bind="foreach: upstreamDomains">
          <li><a data-bind="attr: {'href': $data.url}, text: $data.name"></a></li>
        </ul>
      </div>
    </div>
    <div class="col-sm-6">
      <h4>{% trans "Make Upstream Project" %}</h4>
      <p>
        {% blocktrans %}
          If you want to push content in this project to other projects, make this an upstream project.<br/>
        {% endblocktrans %}
      </p>
      <button type="button"
              class="btn"
              data-bind="class: makeUpstreamButtonStatus"
              id="add-downstream-domain"
              data-toggle="modal"
              data-target="#new-downstream-domain-modal">
        {% trans "Yes, make upstream project" %}
      </button>
    </div>
  </div>
</div>
